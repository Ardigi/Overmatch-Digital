_format_version: "3.0"
_transform: true

services:
  # Auth Service
  - name: auth-service
    url: http://auth-service:3001/auth
    retries: 3
    connect_timeout: 10000
    write_timeout: 10000
    read_timeout: 10000
    routes:
      - name: auth-routes
        paths:
          - /api/auth
        strip_path: true
        preserve_host: true
        methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
        protocols: ["http", "https"]

  # Client Service
  - name: client-service
    url: http://client-service:3002/clients
    retries: 3
    connect_timeout: 10000
    write_timeout: 10000
    read_timeout: 10000
    routes:
      - name: client-routes
        paths:
          - /api/clients
        strip_path: true
        preserve_host: true
        methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
        protocols: ["http", "https"]

  # Policy Service
  - name: policy-service
    url: http://policy-service:3003/policies
    retries: 3
    connect_timeout: 10000
    write_timeout: 10000
    read_timeout: 10000
    routes:
      - name: policy-routes
        paths:
          - /api/policies
        strip_path: true
        preserve_host: true
        methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
        protocols: ["http", "https"]

  # Control Service
  - name: control-service
    url: http://control-service:3004/controls
    retries: 3
    connect_timeout: 10000
    write_timeout: 10000
    read_timeout: 10000
    routes:
      - name: control-routes
        paths:
          - /api/controls
        strip_path: true
        preserve_host: true
        methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
        protocols: ["http", "https"]