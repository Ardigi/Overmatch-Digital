# Integration Service E2E Test Environment Variables

# Node Environment
NODE_ENV=test

# Service Configuration
PORT=3009

# Database Configuration - Test Database
DB_HOST=127.0.0.1
DB_PORT=5433
DB_USERNAME=test_user
DB_PASSWORD=test_pass
DB_NAME=soc_integrations_test

# Redis Configuration - Test Redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6380
REDIS_PASSWORD=test_redis_pass

# Kafka Configuration - Test Kafka
KAFKA_BROKERS=localhost:9093
KAFKA_CLIENT_ID=integration-service-test
KAFKA_GROUP_ID=integration-service-group-test
DISABLE_KAFKA=true

# Integration Configuration
MAX_INTEGRATIONS_PER_ORG=50
DEFAULT_SYNC_INTERVAL_MINUTES=60
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=5000

# Webhook Configuration
WEBHOOK_TIMEOUT_MS=30000
MAX_WEBHOOK_PAYLOAD_SIZE_MB=10
ENABLE_WEBHOOK_SIGNING=true
WEBHOOK_RETRY_ATTEMPTS=3

# OAuth Configuration
OAUTH_CALLBACK_BASE_URL=http://localhost:3009/oauth/callback
OAUTH_STATE_TTL_SECONDS=600

# Provider Specific Settings
# Jira
JIRA_API_VERSION=3
JIRA_MAX_RESULTS_PER_PAGE=100

# Slack
SLACK_API_VERSION=v1
SLACK_RATE_LIMIT_PER_MINUTE=60

# GitHub
GITHUB_API_VERSION=v3
GITHUB_APP_ID=test-app-id
GITHUB_PRIVATE_KEY=test-private-key

# AWS
AWS_DEFAULT_REGION=us-east-1
AWS_ASSUME_ROLE_ENABLED=false

# ServiceNow
SERVICENOW_API_VERSION=v2
SERVICENOW_PAGE_SIZE=100

# Sync Engine
SYNC_QUEUE_NAME=integration-sync-test
MAX_CONCURRENT_SYNCS=5
SYNC_TIMEOUT_MS=300000
ENABLE_INCREMENTAL_SYNC=true

# Data Mapping
ENABLE_CUSTOM_FIELD_MAPPING=true
DEFAULT_FIELD_MAPPING_VERSION=1.0

# Rate Limiting
ENABLE_PROVIDER_RATE_LIMITING=true
DEFAULT_RATE_LIMIT_PER_MINUTE=100

# External Service URLs (Test Instances)
AUTH_SERVICE_URL=http://localhost:3001
NOTIFICATION_SERVICE_URL=http://localhost:3010

# Security
ENABLE_API_KEY_ENCRYPTION=true
ENCRYPTION_KEY=test-encryption-key-32-characters!!

# Testing
ENABLE_TEST_MODE=true
MOCK_EXTERNAL_APIS=true
CAPTURE_API_CALLS=true